{"remainingRequest":"/Users/shizhonghua/workspace/sell/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/shizhonghua/workspace/sell/src/views/chart/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/shizhonghua/workspace/sell/src/views/chart/index.vue","mtime":1561447628000},{"path":"/Users/shizhonghua/workspace/sell/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shizhonghua/workspace/sell/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/shizhonghua/workspace/sell/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shizhonghua/workspace/sell/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport chartLine from './chartsView/lineMarker'\nimport Tab from '@/components/Tab'\nimport TableList from '@/components/TableList'\nimport { getDay } from '@/utils/getReccentDate'\nimport {\n  getAllChartPlatform,\n  getScenarioByPlatformId\n} from '@/http/api/platformApi'\nimport {\n  getClickRateUserConditions,\n  getClickRateNumberConditions,\n  getgetStrategyByScenario,\n  getChartListConditions\n} from '@/http/api/chartApi'\nimport { localStorageApi, sessionStorageApi } from '@/utils/storageApi'\nexport default {\n  name: 'Feedback',\n  components: {\n    chartLine,\n    Tab,\n    TableList\n  },\n  data () {\n    let that = this\n    return {\n      token: sessionStorageApi.get('token'),\n      platformArr: [],\n      platformDesc: '全部',\n      profileArr: [],\n      profileScenarioName: '全部',\n      StrategyArr: [],\n      StrategyName: '全部',\n      positionArr: [],\n      position: '全部',\n\n      createForm: {\n        platformId: '',\n        profileId: '',\n        localDate: '',\n        strategy: '',\n        position: '',\n        token: sessionStorageApi.get('token')\n      },\n      typesMap: {\n        clickRateUser: this.$t('clickUV'),\n        conversionRate: this.$t('conversionRateUV'),\n        orderRate: this.$t('conversionNumberUV')\n      },\n      typesMap1: {\n        clickRateNumber: this.$t('clickPV'),\n        conversionNumber: this.$t('conversionRatePV'),\n        orderRateNumber: this.$t('conversionNumberPV')\n      },\n      clickRateByUserConditions: {},\n      clickRateByTimesConditions: {},\n      tablesSourceArr: [],\n      sourcedata: [\n        {\n          lable: 'ClickDataStatistics',\n          name: 'first'\n        },\n        {\n          lable: 'OrderStatistics',\n          name: 'second'\n        }\n      ],\n      showtableList: 'first',\n      tableData: [],\n      echartConfig: {\n        itemLineStyleColor: '#409eff',\n        bar1Background: '#5762bf',\n        bar2Background: '#ae9aed'\n      },\n      pickerOptions: {\n        disabledDate (time) {\n          return time > Date.now() - 3600 * 1000 * 24\n        },\n        shortcuts: [\n          {\n            text: that.$t('lastWeek'),\n            onClick (picker) {\n              const end = new Date(new Date() - 3600 * 1000 * 24)\n              const start = new Date()\n              start.setTime(end - 3600 * 1000 * 24 * 6)\n              picker.$emit('pick', [start, end])\n            }\n          },\n          {\n            text: that.$t('lastMonth'),\n            onClick (picker) {\n              const end = new Date(new Date() - 3600 * 1000 * 24)\n              const start = new Date()\n              start.setTime(start - 3600 * 1000 * 24 * 29)\n              picker.$emit('pick', [start, end])\n            }\n          },\n          {\n            text: that.$t('lastThreeMonth'),\n            onClick (picker) {\n              const end = new Date(new Date() - 3600 * 1000 * 24 * 1)\n              const start = new Date()\n              start.setTime(start - 3600 * 1000 * 24 * 89)\n              picker.$emit('pick', [start, end])\n            }\n          }\n        ]\n      },\n      clickRateUser: '',\n      clickRateNumber: ''\n    }\n  },\n  mounted () {\n    this.createForm.localDate = [getDay(-7), getDay(-1)]\n    getAllChartPlatform(this.token).then(res => {\n      this.platformArr = res\n    })\n    this.getChart()\n    localStorageApi.set('platformDesc', '全部')\n    localStorageApi.set('chartProfileId', '全部')\n    localStorageApi.set('StrategyName', '全部')\n    localStorageApi.set('position', '全部')\n  },\n  methods: {\n    getEchartsTitle (title) {\n      if (title.clickRateUser) {\n        this.clickRateUser = title.clickRateUser\n      }\n      if (title.clickRateNumber) {\n        this.clickRateNumber = title.clickRateNumber\n      }\n    },\n    platformIdChange (id) {\n      if (id === '') {\n        localStorageApi.set('platformDesc', '全部')\n        localStorageApi.set('chartProfileId', '全部')\n        localStorageApi.set('StrategyName', '全部')\n        localStorageApi.set('position', '全部')\n\n        this.profileArr = ''\n        this.StrategyArr = ''\n        this.positionArr = ''\n        this.createForm.profileId = ''\n        this.createForm.strategy = ''\n        this.createForm.position = ''\n        return\n      }\n      this.createForm.profileId = ''\n      this.createForm.strategy = ''\n      this.createForm.position = ''\n      this.profileIdChange('')\n      let obj = {}\n      obj = this.platformArr.find(item => {\n        return item.id === id // 筛选出匹配数据\n      })\n      localStorageApi.set('platformDesc', obj.platformDesc)\n      localStorageApi.set('chartProfileId', '全部')\n\n      getScenarioByPlatformId(id).then(res => {\n        this.profileArr = res\n      })\n      this.getStrategy()\n    },\n    profileIdChange (id) {\n      localStorageApi.set('chartProfileId', id)\n      if (id === '') {\n        localStorageApi.set('chartProfileId', '全部')\n        this.StrategyArr = ''\n        this.positionArr = ''\n      }\n      this.createForm.strategy = ''\n      this.createForm.position = ''\n      localStorageApi.set('StrategyName', '全部')\n      localStorageApi.set('position', '全部')\n      this.getStrategy()\n    },\n    getStrategy () {\n      // 推荐位\n      let id =\n        localStorageApi.get('chartPlatformId') || this.createForm.platformId\n      let name =\n        localStorageApi.get('chartProfileId') || this.createForm.profileId\n      getgetStrategyByScenario({ id, name }).then(res => {\n        if (res.length > 0) {\n          this.StrategyArr = res\n        }\n      })\n    },\n    strategyChange (strategy) {\n      localStorageApi.set('StrategyName', strategy)\n      this.createForm.position = ''\n      if (!strategy) {\n        this.positionArr = ''\n        localStorageApi.set('StrategyName', '全部')\n        localStorageApi.set('position', '全部')\n        return false\n      }\n      let obj = {}\n      obj = this.StrategyArr.find(item => {\n        return item.strategy === strategy // 筛选出匹配数据\n      })\n\n      this.positionArr = obj.position\n    },\n    positionChange (position) {\n      localStorageApi.set('position', position)\n      if (position === 0) {\n        localStorageApi.set('position', position)\n      }\n      if (position === '') {\n        localStorageApi.set('position', '全部')\n      }\n    },\n    getChart () {\n      let {\n        createForm: {\n          localDate: [startDate, endDate],\n          profileId: typeName,\n          platformId: platId,\n          position,\n          token\n        }\n      } = this\n      getClickRateUserConditions({\n        startDate,\n        endDate,\n        typeName,\n        platId,\n        position,\n        token\n      })\n        .then(res => {\n          this.clickRateByUserConditions = res\n        })\n        .catch(res => {\n          this.$message.error(res)\n        })\n      getClickRateNumberConditions({\n        startDate,\n        endDate,\n        typeName,\n        platId,\n        position,\n        token\n      })\n        .then(res => {\n          this.clickRateByTimesConditions = res\n        })\n        .catch(res => {\n          this.$message.error(res)\n        })\n\n      getChartListConditions({\n        startDate,\n        endDate,\n        typeName,\n        platId,\n        token\n      })\n        .then(res => {\n          this.tableData = res\n          this.tablesSourceArr = res\n        })\n        .catch(res => {\n          this.$message.error(res)\n        })\n    },\n    onSubmit (formName) {\n      this.$refs[formName].validate(valid => {\n        if (valid) {\n          if (!this.createForm.localDate) {\n            this.$message.error(this.$t('PleaseSelectDate'))\n            return false\n          }\n          this.platformDesc = localStorageApi.get('platformDesc')\n          this.profileScenarioName = localStorageApi.get('chartProfileId')\n          this.StrategyName = localStorageApi.get('StrategyName')\n          this.position = localStorageApi.get('position')\n          this.getChart()\n        }\n      })\n    },\n\n    getTabInfo (data) {\n      this.TabInfo = data.name\n      switch (data.name) {\n        case 'first':\n          this.showtableList = data.name\n          break\n        case 'second':\n          this.showtableList = data.name\n          break\n        default:\n          this.showtableList = 'first'\n      }\n    }\n  }\n}\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/chart","sourcesContent":["<template>\n    <div class=\"chart_form_seletc\">\n        <el-form ref=\"createForm\" :model=\"createForm\" :inline=\"true\" label-suffix=\":\" class=\"search-box\">\n            <el-row>\n                <el-col :span=\"24\">\n                    <p class=\"form_title\">{{$t('querycriteria')}}</p>\n                </el-col>\n            </el-row>\n            <el-row>\n                <el-col class=\"col\" :span=\"3\">\n                    <el-form-item :label=\"$t('recommandation')\" prop=\"platformId\">\n                        <el-select v-model=\"createForm.platformId\" :placeholder=\"$t('pleaseChoose')\" @change=\"platformIdChange\">\n                            <el-option :label=\"'全部'\" :value=\"''\" />\n                            <el-option v-for=\"item in platformArr\" :key=\"item.id\" :label=\"item.platformDesc\" :value=\"item.id\" />\n                        </el-select>\n                    </el-form-item>\n                </el-col>\n                <el-col class=\"col\" :span=\"3\">\n                    <el-form-item :label=\"$t('recommandScenario')\" prop=\"profileId\">\n                        <el-select v-model=\"createForm.profileId\" product @change=\"profileIdChange\">\n                            <el-option :label=\"'全部'\" :value=\"''\" />\n                            <el-option v-for=\"item in profileArr\" :key=\"item.id\" :label=\"item.scenarioName\" :value=\"item.scenarioName\" />\n                        </el-select>\n                    </el-form-item>\n                </el-col>\n                <el-col class=\"col\" :span=\"3\">\n                    <el-form-item :label=\"$t('recommandStrategy')\" prop=\"strategy\">\n                        <el-select v-model=\"createForm.strategy\" :placeholder=\"$t('pleaseChoose')\" @change=\"strategyChange\">\n                            <el-option :label=\"'全部'\" :value=\"''\" />\n                            <el-option v-for=\"item in StrategyArr\" :key=\"item.strategy\" :label=\"item.strategy\" :value=\"item.strategy\" />\n                        </el-select>\n                    </el-form-item>\n                </el-col>\n                <el-col class=\"col\" :span=\"3\">\n                    <el-form-item :label=\"$t('recommandA')\" prop=\"position\">\n                        <el-select v-model=\"createForm.position\" :placeholder=\"$t('pleaseChoose')\" @change=\"positionChange\">\n                            <el-option :label=\"'全部'\" :value=\"''\" />\n                            <el-option v-for=\"item in positionArr\" :key=\"item\" :label=\"item\" :value=\"item\" />\n                        </el-select>\n                    </el-form-item>\n                </el-col>\n                <el-col class=\"col\" :span=\"8\">\n                    <el-form-item :label=\"$t('date')\" prop=\"localDate\">\n                        <el-date-picker class=\"el_date\" v-model=\"createForm.localDate\" :picker-options=\"pickerOptions\" :range-separator=\"$t('to')\" :start-placeholder=\"$t('startDate')\" :end-placeholder=\"$t('endDate')\" type=\"daterange\" value-format=\"yyyy-MM-dd\" />\n                    </el-form-item>\n                </el-col>\n                <el-col class=\"col\" :span=\"4\">\n                    <el-form-item>\n                        <el-button type=\"primary\" size=\"small\" @click=\"onSubmit('createForm')\">{{ $t(\"query\") }}</el-button>\n                    </el-form-item>\n                </el-col>\n            </el-row>\n        </el-form>\n        <div class=\"content\">\n            <div class=\"contentBottom\">\n                <div class=\"left\">\n                    <div slot=\"header\" class=\"searchResult\">\n                        <p class=\"result_title\">{{$t('queryresults')}}</p>\n                        <p>\n                            <span>\n                                <b>{{$t('recommandation')}}:</b>\n                                {{platformDesc}}\n                            </span>\n                            <span>\n                                <b>{{$t('recommandScenario')}}:</b>\n                                {{profileScenarioName}}\n                            </span>\n                        </p>\n                        <p>\n                            <span>\n                                <b>{{$t('recommandStrategy')}}:</b>\n                                {{StrategyName}}\n                            </span>\n                            <span>\n                                <b>{{$t('recommandA')}}:</b>\n                                {{position}}\n                            </span>\n                        </p>\n                    </div>\n                    <div class=\"charts\">\n                        <div class=\"chartLine\">\n                            <div class=\"chartData\">\n                                <!-- <div class=\"echartsTitle\">\n                                  <p>Click through rate - By user</p>\n                                  <p>{{clickRateUser}}</p>\n                                </div> -->\n                                <chart-line @sendEchartsTitle=\"getEchartsTitle\" class=\"echarts\" id=\"chart3\" :data=\"clickRateByUserConditions\" :echartConfig=\"echartConfig\" />\n                            </div>\n                            <div class=\"chartData\">\n                              <!-- <div class=\"echartsTitle\">\n                                <p>Click through rate - Number of times</p>\n                                <p>{{clickRateNumber}}</p>\n                              </div> -->\n                                <chart-line @sendEchartsTitle=\"getEchartsTitle\" class=\"echarts\" id=\"chart4\" :data=\"clickRateByTimesConditions\" :echartConfig=\"echartConfig\" :types-map=\"typesMap1\" />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"right\">\n                  <div class=\"rightHeader\">\n                    <p class=\"tableTitle\">{{$t('StatisticalListofData')}}</p>\n                    <Tab :sourcedata=\"sourcedata\" class=\"change_tabs\" @listenToTab=\"getTabInfo\"></Tab>\n                  </div>\n                    <TableList :tableData=\"tableData\" :showwhich=\"showtableList\" class=\"table_list\"></TableList>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport chartLine from './chartsView/lineMarker'\nimport Tab from '@/components/Tab'\nimport TableList from '@/components/TableList'\nimport { getDay } from '@/utils/getReccentDate'\nimport {\n  getAllChartPlatform,\n  getScenarioByPlatformId\n} from '@/http/api/platformApi'\nimport {\n  getClickRateUserConditions,\n  getClickRateNumberConditions,\n  getgetStrategyByScenario,\n  getChartListConditions\n} from '@/http/api/chartApi'\nimport { localStorageApi, sessionStorageApi } from '@/utils/storageApi'\nexport default {\n  name: 'Feedback',\n  components: {\n    chartLine,\n    Tab,\n    TableList\n  },\n  data () {\n    let that = this\n    return {\n      token: sessionStorageApi.get('token'),\n      platformArr: [],\n      platformDesc: '全部',\n      profileArr: [],\n      profileScenarioName: '全部',\n      StrategyArr: [],\n      StrategyName: '全部',\n      positionArr: [],\n      position: '全部',\n\n      createForm: {\n        platformId: '',\n        profileId: '',\n        localDate: '',\n        strategy: '',\n        position: '',\n        token: sessionStorageApi.get('token')\n      },\n      typesMap: {\n        clickRateUser: this.$t('clickUV'),\n        conversionRate: this.$t('conversionRateUV'),\n        orderRate: this.$t('conversionNumberUV')\n      },\n      typesMap1: {\n        clickRateNumber: this.$t('clickPV'),\n        conversionNumber: this.$t('conversionRatePV'),\n        orderRateNumber: this.$t('conversionNumberPV')\n      },\n      clickRateByUserConditions: {},\n      clickRateByTimesConditions: {},\n      tablesSourceArr: [],\n      sourcedata: [\n        {\n          lable: 'ClickDataStatistics',\n          name: 'first'\n        },\n        {\n          lable: 'OrderStatistics',\n          name: 'second'\n        }\n      ],\n      showtableList: 'first',\n      tableData: [],\n      echartConfig: {\n        itemLineStyleColor: '#409eff',\n        bar1Background: '#5762bf',\n        bar2Background: '#ae9aed'\n      },\n      pickerOptions: {\n        disabledDate (time) {\n          return time > Date.now() - 3600 * 1000 * 24\n        },\n        shortcuts: [\n          {\n            text: that.$t('lastWeek'),\n            onClick (picker) {\n              const end = new Date(new Date() - 3600 * 1000 * 24)\n              const start = new Date()\n              start.setTime(end - 3600 * 1000 * 24 * 6)\n              picker.$emit('pick', [start, end])\n            }\n          },\n          {\n            text: that.$t('lastMonth'),\n            onClick (picker) {\n              const end = new Date(new Date() - 3600 * 1000 * 24)\n              const start = new Date()\n              start.setTime(start - 3600 * 1000 * 24 * 29)\n              picker.$emit('pick', [start, end])\n            }\n          },\n          {\n            text: that.$t('lastThreeMonth'),\n            onClick (picker) {\n              const end = new Date(new Date() - 3600 * 1000 * 24 * 1)\n              const start = new Date()\n              start.setTime(start - 3600 * 1000 * 24 * 89)\n              picker.$emit('pick', [start, end])\n            }\n          }\n        ]\n      },\n      clickRateUser: '',\n      clickRateNumber: ''\n    }\n  },\n  mounted () {\n    this.createForm.localDate = [getDay(-7), getDay(-1)]\n    getAllChartPlatform(this.token).then(res => {\n      this.platformArr = res\n    })\n    this.getChart()\n    localStorageApi.set('platformDesc', '全部')\n    localStorageApi.set('chartProfileId', '全部')\n    localStorageApi.set('StrategyName', '全部')\n    localStorageApi.set('position', '全部')\n  },\n  methods: {\n    getEchartsTitle (title) {\n      if (title.clickRateUser) {\n        this.clickRateUser = title.clickRateUser\n      }\n      if (title.clickRateNumber) {\n        this.clickRateNumber = title.clickRateNumber\n      }\n    },\n    platformIdChange (id) {\n      if (id === '') {\n        localStorageApi.set('platformDesc', '全部')\n        localStorageApi.set('chartProfileId', '全部')\n        localStorageApi.set('StrategyName', '全部')\n        localStorageApi.set('position', '全部')\n\n        this.profileArr = ''\n        this.StrategyArr = ''\n        this.positionArr = ''\n        this.createForm.profileId = ''\n        this.createForm.strategy = ''\n        this.createForm.position = ''\n        return\n      }\n      this.createForm.profileId = ''\n      this.createForm.strategy = ''\n      this.createForm.position = ''\n      this.profileIdChange('')\n      let obj = {}\n      obj = this.platformArr.find(item => {\n        return item.id === id // 筛选出匹配数据\n      })\n      localStorageApi.set('platformDesc', obj.platformDesc)\n      localStorageApi.set('chartProfileId', '全部')\n\n      getScenarioByPlatformId(id).then(res => {\n        this.profileArr = res\n      })\n      this.getStrategy()\n    },\n    profileIdChange (id) {\n      localStorageApi.set('chartProfileId', id)\n      if (id === '') {\n        localStorageApi.set('chartProfileId', '全部')\n        this.StrategyArr = ''\n        this.positionArr = ''\n      }\n      this.createForm.strategy = ''\n      this.createForm.position = ''\n      localStorageApi.set('StrategyName', '全部')\n      localStorageApi.set('position', '全部')\n      this.getStrategy()\n    },\n    getStrategy () {\n      // 推荐位\n      let id =\n        localStorageApi.get('chartPlatformId') || this.createForm.platformId\n      let name =\n        localStorageApi.get('chartProfileId') || this.createForm.profileId\n      getgetStrategyByScenario({ id, name }).then(res => {\n        if (res.length > 0) {\n          this.StrategyArr = res\n        }\n      })\n    },\n    strategyChange (strategy) {\n      localStorageApi.set('StrategyName', strategy)\n      this.createForm.position = ''\n      if (!strategy) {\n        this.positionArr = ''\n        localStorageApi.set('StrategyName', '全部')\n        localStorageApi.set('position', '全部')\n        return false\n      }\n      let obj = {}\n      obj = this.StrategyArr.find(item => {\n        return item.strategy === strategy // 筛选出匹配数据\n      })\n\n      this.positionArr = obj.position\n    },\n    positionChange (position) {\n      localStorageApi.set('position', position)\n      if (position === 0) {\n        localStorageApi.set('position', position)\n      }\n      if (position === '') {\n        localStorageApi.set('position', '全部')\n      }\n    },\n    getChart () {\n      let {\n        createForm: {\n          localDate: [startDate, endDate],\n          profileId: typeName,\n          platformId: platId,\n          position,\n          token\n        }\n      } = this\n      getClickRateUserConditions({\n        startDate,\n        endDate,\n        typeName,\n        platId,\n        position,\n        token\n      })\n        .then(res => {\n          this.clickRateByUserConditions = res\n        })\n        .catch(res => {\n          this.$message.error(res)\n        })\n      getClickRateNumberConditions({\n        startDate,\n        endDate,\n        typeName,\n        platId,\n        position,\n        token\n      })\n        .then(res => {\n          this.clickRateByTimesConditions = res\n        })\n        .catch(res => {\n          this.$message.error(res)\n        })\n\n      getChartListConditions({\n        startDate,\n        endDate,\n        typeName,\n        platId,\n        token\n      })\n        .then(res => {\n          this.tableData = res\n          this.tablesSourceArr = res\n        })\n        .catch(res => {\n          this.$message.error(res)\n        })\n    },\n    onSubmit (formName) {\n      this.$refs[formName].validate(valid => {\n        if (valid) {\n          if (!this.createForm.localDate) {\n            this.$message.error(this.$t('PleaseSelectDate'))\n            return false\n          }\n          this.platformDesc = localStorageApi.get('platformDesc')\n          this.profileScenarioName = localStorageApi.get('chartProfileId')\n          this.StrategyName = localStorageApi.get('StrategyName')\n          this.position = localStorageApi.get('position')\n          this.getChart()\n        }\n      })\n    },\n\n    getTabInfo (data) {\n      this.TabInfo = data.name\n      switch (data.name) {\n        case 'first':\n          this.showtableList = data.name\n          break\n        case 'second':\n          this.showtableList = data.name\n          break\n        default:\n          this.showtableList = 'first'\n      }\n    }\n  }\n}\n</script>\n<style lang=\"less\" >\n.chart_form_seletc {\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  padding: 10px !important;\n  margin-bottom: 10px;\n  .search-box {\n    color: #303133;\n    -ms-flex-line-pack: center;\n    align-content: center;\n    margin-bottom: 6px;\n    padding-bottom: 8px;\n    border-radius: 4px 4px;\n    background: rgba(0, 134, 237, 0.1);\n    .form_title {\n      padding-left: 15px;\n      font-size: 14px;\n      margin-top: 9px;\n      font-weight: 700;\n      color: #bcd2ef;\n    }\n    .col {\n      padding-left: 15px;\n    }\n    .el-form-item {\n      width: 100%;\n      margin: 0 0px 5px 0;\n      .el-form-item__label {\n        display: block;\n        text-align: left;\n        line-height: 32px;\n      }\n      .label {\n        margin-bottom: 0;\n      }\n      .el-select {\n        width: 100%;\n      }\n    }\n    .el-button--small {\n      margin: 31px 0 0 0;\n      border: none;\n    }\n  }\n  .content {\n    display: flex;\n    flex-direction: column;\n    flex: 1;\n    .header {\n      display: flex;\n    }\n    .contentBottom {\n      display: flex;\n      flex-direction: row;\n      .left {\n        height: 756px;\n        flex: 3;\n        display: flex;\n        flex-direction: column;\n        .searchResult {\n          height: 88px;\n          padding-left: 15px;\n          display: flex;\n          flex-direction: column;\n          p {\n            span {\n              color: #bcd2ef;\n              font-size: 12px;\n              width: 50%;\n              display: inline-block;\n              b {\n                padding-right: 8px;\n                font-weight: normal;\n                color: #cae0fd;\n                display: inline-block;\n                width: 72px;\n                text-align: right;\n              }\n            }\n          }\n          .result_title {\n            margin-top: 9px;\n            margin-bottom: 5px;\n            font-size: 14px;\n            font-weight: 700;\n            color: #bcd2ef;\n          }\n        }\n        .charts {\n          display: flex;\n          flex: 1;\n          flex-direction: column;\n          .chartLine {\n            display: flex;\n            flex-direction: column;\n            border-radius: 4px 4px;\n            overflow: hidden;\n            .chartData {\n              width: 100%;\n              // .echartsTitle {\n              //   height: 44px;\n              //   padding: 4px 0px;\n              //   background: rgba(0, 134, 237, 0.1);\n              //   p {\n              //     color: #cae0fd;\n              //     // line-height: 22px;\n              //     padding-left: 15px;\n              //     font-size: 13px;\n              //   }\n              //   p:last-child {\n              //     font-size: 12px;\n              //   }\n              // }\n              .echarts {\n                width: 100%;\n                height: 324px;\n              }\n            }\n            .chartData:first-child {\n              margin-bottom: 8px;\n            }\n          }\n        }\n      }\n      .el-form-item__content {\n        .el-input__inner {\n          border: none;\n        }\n      }\n      .right {\n        height: 743px;\n        margin-left: 6px;\n        flex: 5;\n        display: flex;\n        flex-direction: column;\n        border-radius: 4px 4px;\n        .rightHeader {\n          height: 88px;\n        }\n        .change_tabs {\n          padding-bottom: 13px;\n          padding-top: 10px;\n          .active {\n            position: relative;\n          }\n          .active::after {\n            content: \"\";\n            position: absolute;\n            height: 2px;\n            width: 90%;\n            background:#6082fd;\n            left: 5%;\n            bottom: 0%;\n          }\n          p {\n            height: 40px;\n            display: flex;\n            align-items: center;\n            font-size: 12px;\n          }\n        }\n        .tableTitle {\n          height: 22px;\n          margin-top: 10px;\n          align-items: center;\n          padding-left: 20px;\n          color: #bcd2ef;\n          font-size: 14px;\n          font-weight: 700;\n          display: flex;\n        }\n        .table_list {\n          height: 100%;\n          border: none;\n          // background: #112c46;\n        }\n      }\n    }\n  }\n}\n.el-form-item__content {\n  line-height: 30px;\n  .el_date {\n    width: 100%;\n  }\n  .el-input__inner {\n    height: 30px;\n    line-height: 30px;\n  }\n  .el-range-separator {\n    line-height: 22px;\n  }\n  .el-input__icon {\n    line-height: 25px;\n  }\n}\n.chart_form_seletc .search-box .el-form-item .el-form-item__label{\n    font-size: 12px;\n}\n</style>\n"]}]}