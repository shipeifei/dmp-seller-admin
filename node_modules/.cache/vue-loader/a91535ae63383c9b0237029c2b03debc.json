{"remainingRequest":"/Users/shizhonghua/workspace/sell/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/shizhonghua/workspace/sell/src/views/chart/chartsView/lineMarker.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/shizhonghua/workspace/sell/src/views/chart/chartsView/lineMarker.vue","mtime":1561364388000},{"path":"/Users/shizhonghua/workspace/sell/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shizhonghua/workspace/sell/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/shizhonghua/workspace/sell/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shizhonghua/workspace/sell/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n\nimport resize from './resize'\nexport default {\n  mixins: [resize],\n  props: {\n    id: {\n      type: String,\n      default: 'chart2'\n    },\n    data: {\n      type: Object,\n      default () {\n        return {}\n      }\n    },\n    typesMap: {\n      type: Object,\n      default () {\n        return {\n          clickRateUser: this.$t('clickUV'),\n          conversionRate: this.$t('conversionRateUV'),\n          orderRate: this.$t('conversionNumberUV')\n        }\n      }\n    },\n    echartConfig: {\n      type: Object,\n      default () {\n        return {\n          itemLineStyleColor: '#409eff',\n          bar1Background: '#5762bf',\n          bar2Background: '#ae9aed'\n        }\n      }\n    }\n  },\n  data () {\n    return {\n      chart: null\n    }\n  },\n  watch: {\n    data () {\n      this.initChart()\n    }\n  },\n  mounted () {\n    this.initChart()\n  },\n  beforeDestroy () {\n    if (!this.chart) {\n      return\n    }\n    this.chart.dispose()\n    this.chart = null\n  },\n  methods: {\n    // 补齐空缺的数据\n    changeJsonFormat (json) {\n      let types = Object.keys(this.typesMap)\n      let newJson = { data: {} }\n      newJson.xAxisData = Object.keys(json)\n      types.forEach(item => {\n        newJson.data[item] = []\n      })\n      for (let i in json) {\n        types.forEach(typeItem => {\n          newJson.data[typeItem].push(\n            typeof json[i][typeItem] === 'undefined'\n              ? 0\n              : parseInt(json[i][typeItem] * 10000) / 100\n          )\n        })\n      }\n      return newJson\n    },\n    initChart () {\n      this.chart = this.$echarts.init(document.getElementById(this.id))\n      let newJson = this.changeJsonFormat(this.data)\n      let data = newJson.data\n      let xAxisData = newJson.xAxisData\n      let {\n        itemLineStyleColor,\n        bar1Background,\n        bar2Background\n      } = this.echartConfig\n      let title = {\n        clickRateUser: this.typesMap.clickRateUser,\n        clickRateNumber: this.typesMap.clickRateNumber\n      }\n      this.$emit('sendEchartsTitle', title)\n      this.chart.clear() // 将原有echarts清空，等待重新渲染新的echarts\n      this.chart.resize() // 调用resize()方法适配不同分辨率\n      this.chart.setOption({\n        // backgroundColor: '#0e294f',\n        backgroundColor: 'rgba(17,44,70,0.2)',\n        title: {\n          padding: [\n            14, // 上\n            0, // 右\n            10, // 下\n            15 // 左\n          ],\n          textStyle: {\n            fontWeight: 'normal',\n            color: '#bcd2ef',\n            fontSize: 12\n          },\n          text: this.typesMap.clickRateUser || this.typesMap.clickRateNumber\n        },\n        tooltip: {\n          // 这部分是是否鼠标移入之后显示一个title\n          trigger: 'axis',\n          confine: true, // 设置超出容器被遮挡时的样式\n          axisPointer: {\n            type: 'cross',\n            label: {\n              backgroundColor: '#6a7985' // 设置鼠标选中折线点的时候数字的颜色\n            }\n          },\n          formatter: function (params) {\n            var res = params[0].name + '<br/>'\n            for (var i in params) {\n              res +=\n                params[i].marker +\n                params[i].seriesName +\n                '：' +\n                params[i].data +\n                '%<br/>'\n            }\n            return res\n          }\n        },\n        dataZoom: [\n          {\n            show: true,\n            height: 15,\n            xAxisIndex: [0],\n            bottom: 10,\n            textStyle: {\n              color: '#fff',\n              fontSize: '12px'\n            },\n            start:\n              xAxisData.length > 6 ? 100 - (7 / xAxisData.length) * 100 : 0,\n            end: 100,\n            handleIcon:\n              'path://M306.1,413c0,2.2-1.8,4-4,4h-59.8c-2.2,0-4-1.8-4-4V200.8c0-2.2,1.8-4,4-4h59.8c2.2,0,4,1.8,4,4V413z'\n          }\n        ],\n        grid: {\n          left: '-4%',\n          right: '8%',\n          top: '48',\n          bottom: '15px',\n          containLabel: true\n        },\n        xAxis: [\n          {\n            type: 'category',\n            boundaryGap: true,\n            data: xAxisData,\n            axisLabel: {\n              show: true,\n              interval: xAxisData.length > 30 ? 'auto' : 0,\n              rotate: 45,\n              textStyle: {\n                color: '#fff',\n                fontSize: '12px'\n              }\n            },\n            axisLine: {\n              // X轴\n              show: true,\n              lineStyle: {\n                color: '#ccc'\n              }\n            },\n            axisTick: {\n              // X轴刻度线\n              show: false\n            },\n            splitLine: {\n              // X网格线\n              show: false\n            }\n          }\n        ],\n        yAxis: [\n          {\n            type: 'value',\n            show: false,\n            axisLabel: {\n              show: true,\n              formatter: '{value} %',\n              textStyle: {\n                color: '#fff',\n                fontSize: '12px'\n              }\n            },\n            axisLine: {\n              // y轴\n              show: false,\n              lineStyle: {\n                color: '#ccc'\n              }\n            },\n            axisTick: {\n              // y轴刻度线\n              show: false\n            },\n            splitLine: {\n              // 网格线\n              show: true,\n              lineStyle: {\n                color: '#ddd'\n              }\n            }\n          },\n          {\n            type: 'value',\n            position: 'left',\n            axisLabel: {\n              show: true,\n              formatter: '{value} %',\n              textStyle: {\n                color: '#fff',\n                fontSize: '12px'\n              }\n            },\n            axisLine: {\n              // y轴\n              show: true,\n              lineStyle: {\n                color: '#ccc'\n              }\n            },\n            axisTick: {\n              // y轴刻度线\n              show: false\n            },\n            splitLine: {\n              // 网格线\n              show: false,\n              lineStyle: {\n                color: '#ddd'\n              }\n            }\n          },\n          {\n            type: 'value',\n            position: 'right',\n            axisLabel: {\n              show: true,\n              formatter: '{value} %',\n              textStyle: {\n                color: '#fff',\n                fontSize: '12px'\n              }\n            },\n            axisLine: {\n              // y轴\n              show: true,\n              lineStyle: {\n                color: '#ccc'\n              }\n            },\n            axisTick: {\n              // y轴刻度线\n              show: false\n            },\n            splitLine: {\n              // 网格线\n              show: false,\n              lineStyle: {\n                color: '#ddd'\n              }\n            }\n          }\n        ],\n        series: [\n          {\n            name: this.typesMap.clickRateUser || this.typesMap.clickRateNumber,\n            type: 'line',\n            smooth: true,\n            itemStyle: {\n              normal: {\n                color: itemLineStyleColor, // 设置折线点的颜色\n                lineStyle: {\n                  color: itemLineStyleColor // 设置折线条的颜色\n                }\n              }\n            },\n            data: data.clickRateUser || data.clickRateNumber\n          },\n          {\n            name:\n              this.typesMap.conversionRate || this.typesMap.conversionNumber,\n            type: 'bar',\n            barWidth: 3,\n            smooth: true,\n            itemStyle: {\n              emphasis: {\n                barBorderRadius: [7, 7, 0, 0]\n              },\n              normal: {\n                barBorderRadius: [7, 7, 0, 0],\n                color: bar1Background\n              }\n            },\n            yAxisIndex: 1,\n            data: data.conversionRate || data.conversionNumber\n          },\n          {\n            name: this.typesMap.orderRate || this.typesMap.orderRateNumber,\n            type: 'bar',\n            barWidth: 3,\n            smooth: true,\n            itemStyle: {\n              emphasis: {\n                barBorderRadius: [7, 7, 0, 0]\n              },\n              normal: {\n                barBorderRadius: [7, 7, 0, 0],\n                color: bar2Background\n              }\n            },\n            yAxisIndex: 2,\n            data: data.orderRate || data.orderRateNumber\n          }\n        ]\n      })\n    }\n  }\n}\n",{"version":3,"sources":["lineMarker.vue"],"names":[],"mappings":";;;;;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"lineMarker.vue","sourceRoot":"src/views/chart/chartsView","sourcesContent":["<template>\n  <div class=\"chart-container\">\n    <div :id=\"id\" class=\"lineMarker\"/>\n  </div>\n</template>\n<script>\nimport resize from './resize'\nexport default {\n  mixins: [resize],\n  props: {\n    id: {\n      type: String,\n      default: 'chart2'\n    },\n    data: {\n      type: Object,\n      default () {\n        return {}\n      }\n    },\n    typesMap: {\n      type: Object,\n      default () {\n        return {\n          clickRateUser: this.$t('clickUV'),\n          conversionRate: this.$t('conversionRateUV'),\n          orderRate: this.$t('conversionNumberUV')\n        }\n      }\n    },\n    echartConfig: {\n      type: Object,\n      default () {\n        return {\n          itemLineStyleColor: '#409eff',\n          bar1Background: '#5762bf',\n          bar2Background: '#ae9aed'\n        }\n      }\n    }\n  },\n  data () {\n    return {\n      chart: null\n    }\n  },\n  watch: {\n    data () {\n      this.initChart()\n    }\n  },\n  mounted () {\n    this.initChart()\n  },\n  beforeDestroy () {\n    if (!this.chart) {\n      return\n    }\n    this.chart.dispose()\n    this.chart = null\n  },\n  methods: {\n    // 补齐空缺的数据\n    changeJsonFormat (json) {\n      let types = Object.keys(this.typesMap)\n      let newJson = { data: {} }\n      newJson.xAxisData = Object.keys(json)\n      types.forEach(item => {\n        newJson.data[item] = []\n      })\n      for (let i in json) {\n        types.forEach(typeItem => {\n          newJson.data[typeItem].push(\n            typeof json[i][typeItem] === 'undefined'\n              ? 0\n              : parseInt(json[i][typeItem] * 10000) / 100\n          )\n        })\n      }\n      return newJson\n    },\n    initChart () {\n      this.chart = this.$echarts.init(document.getElementById(this.id))\n      let newJson = this.changeJsonFormat(this.data)\n      let data = newJson.data\n      let xAxisData = newJson.xAxisData\n      let {\n        itemLineStyleColor,\n        bar1Background,\n        bar2Background\n      } = this.echartConfig\n      let title = {\n        clickRateUser: this.typesMap.clickRateUser,\n        clickRateNumber: this.typesMap.clickRateNumber\n      }\n      this.$emit('sendEchartsTitle', title)\n      this.chart.clear() // 将原有echarts清空，等待重新渲染新的echarts\n      this.chart.resize() // 调用resize()方法适配不同分辨率\n      this.chart.setOption({\n        // backgroundColor: '#0e294f',\n        backgroundColor: 'rgba(17,44,70,0.2)',\n        title: {\n          padding: [\n            14, // 上\n            0, // 右\n            10, // 下\n            15 // 左\n          ],\n          textStyle: {\n            fontWeight: 'normal',\n            color: '#bcd2ef',\n            fontSize: 12\n          },\n          text: this.typesMap.clickRateUser || this.typesMap.clickRateNumber\n        },\n        tooltip: {\n          // 这部分是是否鼠标移入之后显示一个title\n          trigger: 'axis',\n          confine: true, // 设置超出容器被遮挡时的样式\n          axisPointer: {\n            type: 'cross',\n            label: {\n              backgroundColor: '#6a7985' // 设置鼠标选中折线点的时候数字的颜色\n            }\n          },\n          formatter: function (params) {\n            var res = params[0].name + '<br/>'\n            for (var i in params) {\n              res +=\n                params[i].marker +\n                params[i].seriesName +\n                '：' +\n                params[i].data +\n                '%<br/>'\n            }\n            return res\n          }\n        },\n        dataZoom: [\n          {\n            show: true,\n            height: 15,\n            xAxisIndex: [0],\n            bottom: 10,\n            textStyle: {\n              color: '#fff',\n              fontSize: '12px'\n            },\n            start:\n              xAxisData.length > 6 ? 100 - (7 / xAxisData.length) * 100 : 0,\n            end: 100,\n            handleIcon:\n              'path://M306.1,413c0,2.2-1.8,4-4,4h-59.8c-2.2,0-4-1.8-4-4V200.8c0-2.2,1.8-4,4-4h59.8c2.2,0,4,1.8,4,4V413z'\n          }\n        ],\n        grid: {\n          left: '-4%',\n          right: '8%',\n          top: '48',\n          bottom: '15px',\n          containLabel: true\n        },\n        xAxis: [\n          {\n            type: 'category',\n            boundaryGap: true,\n            data: xAxisData,\n            axisLabel: {\n              show: true,\n              interval: xAxisData.length > 30 ? 'auto' : 0,\n              rotate: 45,\n              textStyle: {\n                color: '#fff',\n                fontSize: '12px'\n              }\n            },\n            axisLine: {\n              // X轴\n              show: true,\n              lineStyle: {\n                color: '#ccc'\n              }\n            },\n            axisTick: {\n              // X轴刻度线\n              show: false\n            },\n            splitLine: {\n              // X网格线\n              show: false\n            }\n          }\n        ],\n        yAxis: [\n          {\n            type: 'value',\n            show: false,\n            axisLabel: {\n              show: true,\n              formatter: '{value} %',\n              textStyle: {\n                color: '#fff',\n                fontSize: '12px'\n              }\n            },\n            axisLine: {\n              // y轴\n              show: false,\n              lineStyle: {\n                color: '#ccc'\n              }\n            },\n            axisTick: {\n              // y轴刻度线\n              show: false\n            },\n            splitLine: {\n              // 网格线\n              show: true,\n              lineStyle: {\n                color: '#ddd'\n              }\n            }\n          },\n          {\n            type: 'value',\n            position: 'left',\n            axisLabel: {\n              show: true,\n              formatter: '{value} %',\n              textStyle: {\n                color: '#fff',\n                fontSize: '12px'\n              }\n            },\n            axisLine: {\n              // y轴\n              show: true,\n              lineStyle: {\n                color: '#ccc'\n              }\n            },\n            axisTick: {\n              // y轴刻度线\n              show: false\n            },\n            splitLine: {\n              // 网格线\n              show: false,\n              lineStyle: {\n                color: '#ddd'\n              }\n            }\n          },\n          {\n            type: 'value',\n            position: 'right',\n            axisLabel: {\n              show: true,\n              formatter: '{value} %',\n              textStyle: {\n                color: '#fff',\n                fontSize: '12px'\n              }\n            },\n            axisLine: {\n              // y轴\n              show: true,\n              lineStyle: {\n                color: '#ccc'\n              }\n            },\n            axisTick: {\n              // y轴刻度线\n              show: false\n            },\n            splitLine: {\n              // 网格线\n              show: false,\n              lineStyle: {\n                color: '#ddd'\n              }\n            }\n          }\n        ],\n        series: [\n          {\n            name: this.typesMap.clickRateUser || this.typesMap.clickRateNumber,\n            type: 'line',\n            smooth: true,\n            itemStyle: {\n              normal: {\n                color: itemLineStyleColor, // 设置折线点的颜色\n                lineStyle: {\n                  color: itemLineStyleColor // 设置折线条的颜色\n                }\n              }\n            },\n            data: data.clickRateUser || data.clickRateNumber\n          },\n          {\n            name:\n              this.typesMap.conversionRate || this.typesMap.conversionNumber,\n            type: 'bar',\n            barWidth: 3,\n            smooth: true,\n            itemStyle: {\n              emphasis: {\n                barBorderRadius: [7, 7, 0, 0]\n              },\n              normal: {\n                barBorderRadius: [7, 7, 0, 0],\n                color: bar1Background\n              }\n            },\n            yAxisIndex: 1,\n            data: data.conversionRate || data.conversionNumber\n          },\n          {\n            name: this.typesMap.orderRate || this.typesMap.orderRateNumber,\n            type: 'bar',\n            barWidth: 3,\n            smooth: true,\n            itemStyle: {\n              emphasis: {\n                barBorderRadius: [7, 7, 0, 0]\n              },\n              normal: {\n                barBorderRadius: [7, 7, 0, 0],\n                color: bar2Background\n              }\n            },\n            yAxisIndex: 2,\n            data: data.orderRate || data.orderRateNumber\n          }\n        ]\n      })\n    }\n  }\n}\n</script>\n<style scoped>\n.chart-container {\n  position: relative;\n  width: 100%;\n  height: calc(100vh - 284px);\n}\n.lineMarker {\n  width: 100%;\n  height: 100%;\n}\n</style>\n"]}]}