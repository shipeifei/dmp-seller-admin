{"remainingRequest":"/Users/shizhonghua/workspace/sell/node_modules/babel-loader/lib/index.js!/Users/shizhonghua/workspace/sell/src/http/interceptors/unauthorizedInterceptor.js","dependencies":[{"path":"/Users/shizhonghua/workspace/sell/src/http/interceptors/unauthorizedInterceptor.js","mtime":1553654233000},{"path":"/Users/shizhonghua/workspace/sell/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shizhonghua/workspace/sell/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import { isRequireAuthentication } from \"../util\";\nimport { sessionStorageApi } from '@/utils/storageApi';\nimport store from '@/store'; // 处理401响应的拦截器\n\nexport default (function (request) {\n  return function (response) {\n    if (isRequireAuthentication(response)) {\n      // 如果请求401，说明每户没有登录（或者登录Session已经失效），这个时候弹出登录对话框，\n      // 用户登录后重新发送失败的请求\n      store.dispatch('setServerLoading', false);\n      window.history.go(0);\n      sessionStorageApi.clear();\n    }\n  };\n});",{"version":3,"sources":["/Users/shizhonghua/workspace/sell/src/http/interceptors/unauthorizedInterceptor.js"],"names":["isRequireAuthentication","sessionStorageApi","store","request","response","dispatch","window","history","go","clear"],"mappings":"AAAA,SACEA,uBADF;AAGA,SACEC,iBADF,QAEO,oBAFP;AAGA,OAAOC,KAAP,MAAkB,SAAlB,C,CAEA;;AACA,gBAAe,UAAAC,OAAO,EAAI;AACxB,SAAO,UAAAC,QAAQ,EAAI;AACjB,QAAIJ,uBAAuB,CAACI,QAAD,CAA3B,EAAuC;AACrC;AACA;AACAF,MAAAA,KAAK,CAACG,QAAN,CAAe,kBAAf,EAAmC,KAAnC;AACAC,MAAAA,MAAM,CAACC,OAAP,CAAeC,EAAf,CAAkB,CAAlB;AACAP,MAAAA,iBAAiB,CAACQ,KAAlB;AACD;AACF,GARD;AASD,CAVD","sourcesContent":["import {\n  isRequireAuthentication\n} from '../util'\nimport {\n  sessionStorageApi\n} from '@/utils/storageApi'\nimport store from '@/store'\n\n// 处理401响应的拦截器\nexport default request => {\n  return response => {\n    if (isRequireAuthentication(response)) {\n      // 如果请求401，说明每户没有登录（或者登录Session已经失效），这个时候弹出登录对话框，\n      // 用户登录后重新发送失败的请求\n      store.dispatch('setServerLoading', false)\n      window.history.go(0)\n      sessionStorageApi.clear()\n    }\n  }\n}\n"]}]}