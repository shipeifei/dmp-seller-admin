{"remainingRequest":"/Users/shizhonghua/workspace/sell/node_modules/babel-loader/lib/index.js!/Users/shizhonghua/workspace/sell/src/components/ui/registerComponents.js","dependencies":[{"path":"/Users/shizhonghua/workspace/sell/src/components/ui/registerComponents.js","mtime":1553649389000},{"path":"/Users/shizhonghua/workspace/sell/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shizhonghua/workspace/sell/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.string.starts-with\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.for-each\";\nimport _ from 'lodash';\nexport default (function (components) {\n  var PREFIX = 'gucp-';\n  return function (Vue) {\n    var componentNames = {};\n    components.keys().forEach(function (fileName) {\n      var componentConfig = components(fileName);\n      componentConfig = componentConfig.default || componentConfig;\n      var name = componentConfig.name;\n      var file = componentConfig.__file || '';\n\n      if (name) {\n        if (name.startsWith('Gucp')) {\n          name = name.substring('Gucp'.length);\n        }\n\n        if (!componentNames[name]) {\n          componentNames[name] = file;\n          Vue.component(PREFIX + _.kebabCase(name), componentConfig);\n        } else {\n          console.warn(\"Component name '\".concat(name, \"' for file '\").concat(file, \"' is already used by another file '\").concat(componentNames[name], \"'.\"));\n        }\n      }\n    });\n  };\n});",{"version":3,"sources":["/Users/shizhonghua/workspace/sell/src/components/ui/registerComponents.js"],"names":["_","components","PREFIX","Vue","componentNames","keys","forEach","fileName","componentConfig","default","name","file","__file","startsWith","substring","length","component","kebabCase","console","warn"],"mappings":";;;;AAAA,OAAOA,CAAP,MAAc,QAAd;AAEA,gBAAe,UAAAC,UAAU,EAAI;AAC3B,MAAMC,MAAM,GAAG,OAAf;AAEA,SAAO,UAAAC,GAAG,EAAI;AACZ,QAAMC,cAAc,GAAG,EAAvB;AACAH,IAAAA,UAAU,CAACI,IAAX,GAAkBC,OAAlB,CAA0B,UAAAC,QAAQ,EAAI;AACpC,UAAIC,eAAe,GAAGP,UAAU,CAACM,QAAD,CAAhC;AACAC,MAAAA,eAAe,GAAGA,eAAe,CAACC,OAAhB,IAA2BD,eAA7C;AACA,UAAIE,IAAI,GAAGF,eAAe,CAACE,IAA3B;AACA,UAAMC,IAAI,GAAGH,eAAe,CAACI,MAAhB,IAA0B,EAAvC;;AACA,UAAIF,IAAJ,EAAU;AACR,YAAIA,IAAI,CAACG,UAAL,CAAgB,MAAhB,CAAJ,EAA6B;AAC3BH,UAAAA,IAAI,GAAGA,IAAI,CAACI,SAAL,CAAe,OAAOC,MAAtB,CAAP;AACD;;AACD,YAAI,CAACX,cAAc,CAACM,IAAD,CAAnB,EAA2B;AACzBN,UAAAA,cAAc,CAACM,IAAD,CAAd,GAAuBC,IAAvB;AACAR,UAAAA,GAAG,CAACa,SAAJ,CAAcd,MAAM,GAAGF,CAAC,CAACiB,SAAF,CAAYP,IAAZ,CAAvB,EAA0CF,eAA1C;AACD,SAHD,MAGO;AACLU,UAAAA,OAAO,CAACC,IAAR,2BACqBT,IADrB,yBACwCC,IADxC,gDACkFP,cAAc,CAACM,IAAD,CADhG;AAGD;AACF;AACF,KAlBD;AAmBD,GArBD;AAsBD,CAzBD","sourcesContent":["import _ from 'lodash'\n\nexport default components => {\n  const PREFIX = 'gucp-'\n\n  return Vue => {\n    const componentNames = {}\n    components.keys().forEach(fileName => {\n      let componentConfig = components(fileName)\n      componentConfig = componentConfig.default || componentConfig\n      let name = componentConfig.name\n      const file = componentConfig.__file || ''\n      if (name) {\n        if (name.startsWith('Gucp')) {\n          name = name.substring('Gucp'.length)\n        }\n        if (!componentNames[name]) {\n          componentNames[name] = file\n          Vue.component(PREFIX + _.kebabCase(name), componentConfig)\n        } else {\n          console.warn(\n            `Component name '${name}' for file '${file}' is already used by another file '${componentNames[name]}'.`\n          )\n        }\n      }\n    })\n  }\n}\n"]}]}